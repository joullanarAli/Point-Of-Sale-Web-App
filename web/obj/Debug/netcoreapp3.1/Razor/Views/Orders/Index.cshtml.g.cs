#pragma checksum "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c1501b680eb6b584041b3f419412b465dbf4ce02"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Orders_Index), @"mvc.1.0.view", @"/Views/Orders/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\_ViewImports.cshtml"
using web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\_ViewImports.cshtml"
using web.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c1501b680eb6b584041b3f419412b465dbf4ce02", @"/Views/Orders/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"47e2989be7935e1a8b5e6466c593fab35ffacecd", @"/Views/_ViewImports.cshtml")]
    public class Views_Orders_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<market.Models.Order>>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n<div  class=\"row my-2 position-static\">\r\n    <p id=\"tempDataMessage\" class=\"position-static\" style=\"color:red\">\r\n         ");
#nullable restore
#line 5 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
    Write(TempData["Message"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    </p>\r\n</div>\r\n\r\n    <!DOCTYPE html>\r\n<html lang=\"en\">\r\n    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c1501b680eb6b584041b3f419412b465dbf4ce023744", async() => {
                WriteLiteral("\r\n          <link rel=\"stylesheet\" href=\"../../plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css\">\r\n\r\n    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c1501b680eb6b584041b3f419412b465dbf4ce024834", async() => {
                WriteLiteral(@"


<div class=""row my-3"">
    <div class=""col-4"">
        <input type=""text"" class=""form-control text-success"" placeholder=""Search date(numbers)/Deliver Address/customers..."" onkeyup=""search(this.value)"" />
    </div>
    <div class=""col-2"">
        <a class=""btn btn-primary""");
                BeginWriteAttribute("href", " href=\"", 666, "\"", 703, 1);
#nullable restore
#line 23 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
WriteAttributeValue("", 673, Url.Action("Create","Orders"), 673, 30, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" style=\"margin-left:10px\">Create Orders</a>\r\n    </div>\r\n    <div class=\"col-2\">\r\n        <button class=\"btn btn-warning\"  onclick=\"get()\" style=\"margin-bottom: 10px;\" >Get Orders</button>\r\n    </div>\r\n    \r\n</div>\r\n");
                WriteLiteral("\r\n<div class = \"container\">\r\n        <div class=\"row test\"></div>\r\n    </div>\r\n\r\n<div id=\"modal-container\">\r\n</div>\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n    <script>\r\n        function get() {\r\n            $.ajax({\r\n                url: \'");
#nullable restore
#line 44 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
                 Write(Url.Action("GetOrders", "Orders"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                type: 'GET',
                dataType: 'json',
                beforeSend: function() {
                },
                success: function(response) {
                    if (response.success) {
                       $("".test"").empty();
                        $.each(response.data, (index, item) => {
                            const date = new Date(item.orderDate);
                            const formattedDate = date.toLocaleString('en-US', { 
                                            year: 'numeric', 
                                            month: 'long', 
                                            day: 'numeric',
                                            hour: 'numeric',
                                            minute: 'numeric',
                                            second: 'numeric'
                                        });

                            $("".test"").append(` <div class=""col-md-4"">
                                               ");
                WriteLiteral(@"         <!-- Widget: user widget style 2 -->
                                                        <div class=""card card-widget widget-user-2"" style=""margin-top=20px"">
                                                            <!-- Add the bg color to the header using any of the bg-* classes -->
                                                            <div class=""widget-user-header bg-light"" style=""min-height:140px"" >
                                                             <div class=""float-right"">
                                                                        <button class=""btn btn-light"" onclick=""showModal('${item.id}')""
                                                                                style='font-size:13px;position: relative;top:-12px;'>
                                                                            <i class='fas fa-pen' style='font-size:10px;color:black; position: relative;top:0px;'></i>
                                                               ");
                WriteLiteral(@"         </button>
                                                             </div>
                                                             <div class=""float-right"">
                                                                       <button class=""btn btn-light"" onclick=""del('${item.id}')""  
                                                                               style='font-size:13px;position: relative;top:-12px'>
                                                                                <i class='fas fa-trash' style='font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>
                                                             <div class=""float-right"">
                                                                         <button class=""btn btn-light"" onclick=""showDetails('${item.id}')""
                              ");
                WriteLiteral(@"                                                      style='font-size:13px;position: relative;top:-12px'>
                                                                                <i class='fas fas fa-th' style='font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>
                                                            
                                                              <div class=""float-right"" style='top:-12px;'>
                                                                         <button class=""btn btn-light"" onclick=""window.location.href='/Orders/Details/?id=${item.id}';""
                                                                                    style='font-size:13px;position: relative;top:-12px'>
                                                                                <i class='fas fa-cart-plus' style=");
                WriteLiteral(@"'font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>

                                                                <h5 class=""widget-user-desc"" style=""margin-left:10px;""></br><b>Customer Name: </b></br>${item.customer.name}</h5>
                                                                <h5 class=""widget-user-desc"" style=""margin-left:10px;""><b>Order date:</b></br>${formattedDate}</h5>
                                                               
                                                            </div>
                                                            <div class=""card-footer p-0"">
                                                                <ul class=""nav flex-column"">
                 
                                                                </ul>
                                                        ");
                WriteLiteral(@"    </div>
                                                        </div>
                                                        <!-- /.widget-user -->
                                                    </div>`)
                        })
                    }
                    else {
                        alert(response.message)
                    }
                },
                error: function(msg) {
                    console.error(msg);
                }
            })
        }
    </script>
    <script>
        function search(val) {
            $.ajax({
                url: '");
#nullable restore
#line 121 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
                 Write(Url.Action("Search", "Orders"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + '?value=' + val,
                type: 'GET',
                dataType: 'json',
                beforeSend: function () {
                    $('tbody').html('')
                },
                success: function (response) {
                    if (response.success) {
                         $("".test"").empty();
                        $.each(response.data, (index, item) => {
                             const date = new Date(item.orderDate);
                            const formattedDate = date.toLocaleString('en-US', { 
                                            year: 'numeric', 
                                            month: 'long', 
                                            day: 'numeric',
                                            hour: 'numeric',
                                            minute: 'numeric',
                                            second: 'numeric'
                                        });

                            $("".test"").append(` <div cl");
                WriteLiteral(@"ass=""col-md-4"">
                                                        <!-- Widget: user widget style 2 -->
                                                        <div class=""card card-widget widget-user-2"" style=""margin-top=20px"">
                                                            <!-- Add the bg color to the header using any of the bg-* classes -->
                                                            <div class=""widget-user-header bg-light"" style=""min-height:140px"" >
                                                             <div class=""float-right"">
                                                                        <button class=""btn btn-light"" onclick=""showModal('${item.id}')""
                                                                                style='font-size:13px;position: relative;top:-12px;'>
                                                                            <i class='fas fa-pen' style='font-size:10px;color:black; position: relative;top:0px;'></i>");
                WriteLiteral(@"
                                                                        </button>
                                                             </div>
                                                             <div class=""float-right"">
                                                                       <button class=""btn btn-light"" onclick=""del('${item.id}')""  
                                                                               style='font-size:13px;position: relative;top:-12px'>
                                                                                <i class='fas fa-trash' style='font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>
                                                             <div class=""float-right"">
                                                                         <button class=""btn btn-light"" onc");
                WriteLiteral(@"lick=""showDetails('${item.id}')""
                                                                                    style='font-size:13px;position: relative;top:-12px'>
                                                                                <i class='fas fas fa-th' style='font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>
                                                             
                                                              <div class=""float-right"" style='top:-12px;'>
                                                                         <button class=""btn btn-light"" onclick=""window.location.href='/Orders/Details/?id=${item.id}';""
                                                                                    style='font-size:13px;position: relative;top:-12px'>
                                                 ");
                WriteLiteral(@"                               <i class='fas fa-cart-plus' style='font-size:13px;color:black; position: relative;top:0px'></i>
                                                                       </button>
                                                             </div>

                                                                <h5 class=""widget-user-desc"" style=""margin-left:10px;""></br><b>Customer Name: </b></br>${item.customer.name}</h5>
                                                                <h5 class=""widget-user-desc"" style=""margin-left:10px;""><b>Order date:</b></br>${formattedDate}</h5>
                                                               
                                                            </div>
                                                            <div class=""card-footer p-0"">
                                                                <ul class=""nav flex-column"">
                 
                                                              ");
                WriteLiteral(@"  </ul>
                                                            </div>
                                                        </div>
                                                        <!-- /.widget-user -->
                                                    </div>`)
                        })
                    }
                    else {
                        alert(response.message)
                    }
                },
                error: function (msg) {
                    console.error(msg);
                }
            })
        }
    </script>
    <script>
        function showModal(id) {
            $.ajax({
                url: '");
#nullable restore
#line 199 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
                 Write(Url.Action("GetModal", "Orders"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + ""?id="" + parseInt(id),
                type: 'GET',
                dataType: 'html',
                success: function(response) {
                    $('#modal-container').html(response); 
                    $('.modal').modal('show');
                    $.validator.unobtrusive.parse('form-id');
                    
                },
                error: function(msg) {
                    console.error(msg);
                }
            })
        }
    </script>
    <script>
        function del(id) {
            $.ajax({
                url: '");
#nullable restore
#line 217 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
                 Write(Url.Action("Delete", "Orders"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + ""?id="" + parseInt(id),
                type: 'GET',
                dataType: 'html',
                success: function(response) {
                    $('#modal-container').html(response); 
                    $('.modal').modal('show');
                    $.validator.unobtrusive.parse('form-id');
                    
                },
                error: function(msg) {
                    console.error(msg);
                }
            })
        }
    </script>
    <script>
        function view(id) 
        {
            window.location.href = '/Orders/Details/?id='+id;
        }
    </script>
    <script>
        setTimeout(function () {
            document.getElementById('tempDataMessage').innerHTML = '';
        }, 3000); // 3000 milliseconds = 3 sec
    </script>

 <script>

        function mysubmit(e) {
            e.preventDefault();

            var OldDiscount = document.getElementById('OldDiscount').value;
            var OldTax = document.getElementB");
                WriteLiteral(@"yId('OldTax').value;
            var OldDeliveryPrice = document.getElementById('OldDeliveryPrice').value;
            var OldTotalPrice = document.getElementById('TotalPrice').value;
            var Discount = document.getElementById('Discount').value;
            var Tax = document.getElementById('Tax').value;
            var DeliveryPrice = document.getElementById('DeliveryPrice').value;
            var DeliveryAddress = document.getElementById('DeliveryAddress').value;
            var OrderDate = document.getElementById('OrderDate').value;
            var CustomerId = document.getElementById('CustomerId').value;
            var Id = document.getElementById('Id').value;
            var temptotalprice = (parseFloat(OldTotalPrice) - parseFloat(OldDeliveryPrice))/ (1- (parseFloat(OldDiscount))/100 + (parseFloat(OldTax))/100 );
            var TotalPrice =  temptotalprice -temptotalprice*parseFloat(Discount)/100 + temptotalprice*parseFloat(Tax)/100 +parseFloat(DeliveryPrice);
            let obj = ");
                WriteLiteral(@"{
                ""Discount"": Discount,
                ""Tax"": Tax,
                ""Id"": Id,
                ""DeliveryPrice"": DeliveryPrice,
                ""DeliveryAddress"": DeliveryAddress,
                ""TotalPrice"": TotalPrice,
                ""OrderDate"": OrderDate,
                ""CustomerId"": CustomerId,
            };
            $.ajax({
                url: '/Orders/Edit',
                type: 'POST',
                contentType: ""application/x-www-form-urlencoded; charset=UTF-8"",
                data: obj,
                //data: formData,
                success: function (response) {
                    if (response.success) {
                        window.location.href = '/Orders/Index';
                    } else {
                        $('#error').text('');

                        for (var fieldName in response.errors) {
                            var errorMessage = response.errors[fieldName];
                            $(""#error"").append(errorMessage + '<br");
                WriteLiteral(@">');
                        }

                    }
                },
                error: function () {
                    alert('An error occurred during the AJAX request.');
                }
            })
        }

    </script>
  

    <script>
        function showDetails(id) {
            $.ajax({
                url: '");
#nullable restore
#line 303 "E:\HIAST\4th_year\web_development\marketDB 7\marketDB 7\New folder (2)\web\Views\Orders\Index.cshtml"
                 Write(Url.Action("GetDetails", "Orders"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + ""?id="" + parseInt(id),
                type: 'GET',
                dataType: 'html',
                success: function(response) {
                    $('#modal-container').html(response); 
                    $('.modal').modal('show');
                    $.validator.unobtrusive.parse('form-id');
                    
                },
                error: function(msg) {
                    console.error(msg);
                }
            })
        }
    </script>
    <script>
         $('.swalDefaultInfo').click(function() {
      Toast.fire({
        icon: 'info',
        title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
      })
    });
    </script>


    
    
");
            }
            );
            WriteLiteral("</html>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<market.Models.Order>> Html { get; private set; }
    }
}
#pragma warning restore 1591
